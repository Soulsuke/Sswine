#! /usr/bin/env zsh

###############################################################################
### Needed functionalities                                                  ###
###############################################################################
-c : checks for invalid configuration files
 >>> Sswine::new >>> Ham::new

-d : creates .desktop files
 >>> Sswine::writeDesktopFiles 

-h : shows help

-k : wineserver -k for everyone
 >>> Sswine::killAllHams

-s <shell> : list prefixes, then open a shell
 >>> Sswine::openShell (will open the user default shell)

-u : wineboot for everyone
 >>> Sswine::updateAllHams

###############################################################################
### To create menu entries (tested on Cinnamon, but should work everywhere) ###
###############################################################################
#
## 1. Define the folder in $HOME/.local/share/sSwine.desktop:
[Desktop Entry]
Version=1.0
Type=Directory
Name=sSwine
Icon=google-chrome
#
## 2. Define the menu entry in
##    $HOME/.config/menus/applications-merged/sSwine.menu:
<!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
    "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd">
<!-- Do not edit manually - generated and managed by xdg-desktop-menu -->
<Menu>                                                                          
  <Name>Applications</Name>                                                     
  <Menu>                                                                        
    <Name>sSwine</Name>                                                         
    <Include>                                                                   
      <Filename>sSwine-app1.desktop</Filename>                                  
    </Include>                                                                  
    <AppDir>/home/jessie/.local/share/applications/sSwine</AppDir>                     
    <Include>                                                                   
      <Filename>appN.desktop</Filename>                                  
    </Include>                                                                  
  </Menu>                                                                       
</Menu> 

#
## 3. Create the desktop file in $HOME/.local/share/applications/sswine for 
##    each entry:
#!/usr/bin/env xdg-open
[Desktop Entry]
Encoding=UTF-8
Version=1.0
Type=Application
Terminal=false
Categories=sSwine
Name=App Name
Icon=$HOME/.sswine/.../icon
Path=$HOME/.sswine/../wine_env/path
Exec=env WINEPREFIX=$HOME/.sswine/.... wine x.exe
Hidden=false                                                                    
NoDisplay=false

